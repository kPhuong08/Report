<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="kphuong@kphuong.com"><link rel=icon href=https://kphuong08.github.io/Report/images/favicon.png type=image/png><title>Di chuyển máy chủ theo dõi MLflow sang Amazon SageMaker AI với Serverless MLflow :: Báo cáo thực tập</title>
<link href=https://kphuong08.github.io/Report/css/nucleus.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/fontawesome-all.min.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/hybrid.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/featherlight.min.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/perfect-scrollbar.min.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/auto-complete.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/atom-one-dark-reasonable.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/theme.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/hugo-theme.css?1768364591 rel=stylesheet><link href=https://kphuong08.github.io/Report/css/theme-workshop.css?1768364591 rel=stylesheet><script src=https://kphuong08.github.io/Report/js/jquery-3.3.1.min.js?1768364591></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://kphuong08.github.io/Report/vi/3-blogstranslated/3.1-blog1/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://kphuong08.github.io/Report/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://kphuong08.github.io/Report/js/lunr.min.js?1768364591></script><script type=text/javascript src=https://kphuong08.github.io/Report/js/auto-complete.js?1768364591></script><script type=text/javascript>var baseurl="https://kphuong08.github.io/Report//vi"</script><script type=text/javascript src=https://kphuong08.github.io/Report/js/search.js?1768364591></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Worklog Tuần 2" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.2-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Worklog Tuần 3" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.3-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Worklog Tuần 4" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.4-week4/><b>1.4. </b>Worklog Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Worklog Tuần 5" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Worklog Tuần 6" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Worklog Tuần 7" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Worklog Tuần 8" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Worklog Tuần 9" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class=dd-item><a href=https://kphuong08.github.io/Report/vi/1-worklog/1.12-week12/><b>1.12 </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=https://kphuong08.github.io/Report/vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=https://kphuong08.github.io/Report/vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Di chuyển máy chủ theo dõi MLflow sang Amazon SageMaker AI với Serverless MLflow" class="dd-item
active"><a href=https://kphuong08.github.io/Report/vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Di chuyển máy chủ theo dõi MLflow sang Amazon SageMaker AI với Serverless MLflow
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=https://kphuong08.github.io/Report/vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=https://kphuong08.github.io/Report/vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=https://kphuong08.github.io/Report/vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-training-flow/ title="Xây dựng luồng Training tự động" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.3-training-flow/><b>5.3. </b>Xây dựng luồng Training tự động
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.3-training-flow/5.3.1-lamda-function/ title="Tạo lambda function" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.3-training-flow/5.3.1-lamda-function/><b>5.3.1 </b>Tạo lambda function
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-training-flow/5.3.2-s3-event-trigger/ title="Tạo S3 event trigger" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.3-training-flow/5.3.2-s3-event-trigger/><b>5.3.2 </b>Tạo S3 event trigger
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.4-endpoint/ title="Triển khai Serverless Endpoint" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.4-endpoint/><b>5.4. </b>Triển khai Serverless Endpoint
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.4-endpoint/5.4.1-model-create/ title="Chuẩn bị tài nguyên" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.4-endpoint/5.4.1-model-create/><b>5.4.1 </b>Chuẩn bị tài nguyên
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-endpoint/5.4.2-serverless-endpoint/ title="Cấu hình Serverless Endpoint" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.4-endpoint/5.4.2-serverless-endpoint/><b>5.4.2 </b>Cấu hình Serverless Endpoint
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-endpoint/5.4.3-deploy-invoke/ title="Tự động deploy và kiểm thử" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.4-endpoint/5.4.3-deploy-invoke/><b>5.4.3 </b>Tự động deploy và kiểm thử
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.5-cleanup/ title="Dọn dẹp tài nguyên" class=dd-item><a href=https://kphuong08.github.io/Report/vi/5-workshop/5.5-cleanup/><b>5.6. </b>Dọn dẹp tài nguyên
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=https://kphuong08.github.io/Report/vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=https://kphuong08.github.io/Report/vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://kphuong08.github.io/Report/3-blogstranslated/3.1-blog1/>English</option><option id=vi value=https://kphuong08.github.io/Report/vi/3-blogstranslated/3.1-blog1/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://kphuong08.github.io/Report/vi/>Báo cáo thực tập</a> > <a href=https://kphuong08.github.io/Report/vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Di chuyển máy chủ theo dõi MLflow sang Amazon SageMaker AI với Serverless MLflow</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#hướng-dẫn-từng-bước-di-chuyển-máy-chủ-theo-dõi-sang-sagemaker-với-mlflow>Hướng dẫn từng bước: Di chuyển máy chủ theo dõi sang SageMaker với MLflow</a><ul><li><a href=#bước-1-xác-minh-khả-năng-tương-thích-phiên-bản-mlflow>Bước 1: Xác minh khả năng tương thích phiên bản MLflow</a></li><li><a href=#bước-2-tạo-một-mlflow-app-mới>Bước 2: Tạo một MLflow App mới</a></li><li><a href=#bước-3-cài-đặt-mlflow-và-plugin-sagemaker-mlflow>Bước 3: Cài đặt MLflow và plugin SageMaker MLflow</a></li><li><a href=#bước-4-cài-đặt-công-cụ-mlflow-export-import>Bước 4: Cài đặt công cụ MLflow Export Import</a></li><li><a href=#bước-5-xuất-tài-nguyên-mlflow-sang-một-thư-mục>Bước 5: Xuất tài nguyên MLflow sang một thư mục</a></li><li><a href=#bước-6-nhập-tài-nguyên-mlflow-vào-mlflow-app-của-bạn>Bước 6: Nhập tài nguyên MLflow vào MLflow App của bạn</a></li><li><a href=#bước-7-xác-thực-kết-quả-di-chuyển>Bước 7: Xác thực kết quả di chuyển</a></li></ul></li><li><a href=#các-cân-nhắc>Các cân nhắc</a></li><li><a href=#dọn-dẹp>Dọn dẹp</a></li><li><a href=#kết-luận>Kết luận</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Di chuyển máy chủ theo dõi MLflow sang Amazon SageMaker AI với Serverless MLflow</h1><h1 id=di-chuyển-mlflow-tracking-servers-sang-amazon-sagemaker-với-serverless-mlflow>Di chuyển MLflow tracking servers sang Amazon SageMaker với Serverless MLflow</h1><p><em>Link bài viết gốc</em> : <a href=https://aws.amazon.com/vi/blogs/machine-learning/migrate-mlflow-tracking-servers-to-amazon-sagemaker-ai-with-serverless-mlflow/>link</a></p><p>Việc vận hành một máy chủ theo dõi (tracking server) MLflow tự quản lý đi kèm với các chi phí quản trị, bao gồm bảo trì máy chủ và mở rộng tài nguyên. Khi các nhóm mở rộng quy mô thử nghiệm ML của họ, việc quản lý tài nguyên hiệu quả trong thời gian cao điểm và thời gian nhàn rỗi là một thách thức. Các tổ chức đang chạy MLflow trên Amazon EC2 hoặc tại chỗ (on-premises) có thể tối ưu hóa chi phí và tài nguyên kỹ thuật bằng cách sử dụng <strong>Amazon SageMaker AI</strong> với <strong>serverless MLflow.</strong></p><p>Bài viết này hướng dẫn bạn cách di chuyển máy chủ theo dõi MLflow tự quản lý của mình sang <strong>MLflow App</strong> – một máy chủ theo dõi không máy chủ (serverless) trên SageMaker AI, có khả năng tự động mở rộng tài nguyên dựa trên nhu cầu đồng thời loại bỏ các tác vụ vá lỗi máy chủ và quản lý lưu trữ mà không tốn thêm chi phí. Tìm hiểu cách sử dụng công cụ <strong>MLflow Export Import</strong> để chuyển các thí nghiệm (experiments), lần chạy (runs), mô hình và các tài nguyên MLflow khác, bao gồm cả hướng dẫn để xác nhận sự thành công của quá trình di chuyển.</p><p>Mặc dù bài viết này tập trung vào việc di chuyển từ các máy chủ theo dõi MLflow tự quản lý sang SageMaker với MLflow, công cụ MLflow Export Import còn mang lại tiện ích rộng lớn hơn. Bạn có thể áp dụng cùng một phương pháp để di chuyển các máy chủ theo dõi MLflow được quản lý bởi SageMaker hiện có sang khả năng MLflow serverless mới trên SageMaker. Công cụ này cũng hỗ trợ nâng cấp phiên bản và thiết lập các quy trình sao lưu để phục hồi sau thảm họa.</p><hr><h2 id=hướng-dẫn-từng-bước-di-chuyển-máy-chủ-theo-dõi-sang-sagemaker-với-mlflow>Hướng dẫn từng bước: Di chuyển máy chủ theo dõi sang SageMaker với MLflow</h2><p>Hướng dẫn sau đây cung cấp các bước chi tiết để di chuyển một máy chủ theo dõi MLflow hiện có sang SageMaker với MLflow. Quy trình di chuyển bao gồm ba giai đoạn chính: xuất các tạo tác (artifacts) MLflow sang bộ lưu trữ trung gian, cấu hình MLflow App, và nhập các tạo tác của bạn.</p><p>Bạn có thể chọn thực hiện quy trình di chuyển từ một phiên bản EC2, máy tính cá nhân hoặc sổ tay (notebook) SageMaker. Bất kể bạn chọn môi trường nào, nó phải duy trì kết nối đến cả máy chủ theo dõi nguồn và máy chủ theo dõi đích. MLflow Export Import hỗ trợ xuất từ cả máy chủ theo dõi tự quản lý và máy chủ theo dõi Amazon SageMaker MLflow (từ MLflow v2.16 trở đi) sang Amazon SageMaker Serverless MLflow.</p><p><img alt=image src=https://kphuong08.github.io/Report/images/3-Blog/image.png>
Hình 1: Quy trình di chuyển với công cụ MLflow Export Import</p><p><strong>Điều kiện tiên quyết</strong></p><p>Để thực hiện theo bài viết này, hãy đảm bảo bạn có các điều kiện tiên quyết sau:</p><ul><li>Một tài khoản AWS — nếu bạn chưa có, hãy <a href=https://aws.amazon.com/vi/free/>đăng ký làm khách hàng mới</a>.</li><li>Kết nối đến cả máy chủ theo dõi nguồn và đích (xem tài liệu cho <a href=https://mlflow.org/docs/latest/ml/getting-started/running-notebooks/>MLflow tự quản lý</a> và <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/mlflow-create-tracking-server.html>MLflow trên Amazon SageMaker AI</a>).</li><li><a href=https://aws.amazon.com/vi/iam/>Quyền AWS Identity and Access Management (IAM)</a> để tạo SageMaker MLflow App (xem <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/mlflow-create-tracking-server-iam.html>Thiết lập quyền IAM cho MLflow</a>).</li><li>Một môi trường thực thi (EC2, máy cục bộ hoặc SageMaker notebook) đã cài đặt Python 3.10+ và có đủ tài nguyên lưu trữ cũng như tính toán cho kích thước dữ liệu của máy chủ theo dõi.</li><li>Môi trường thực thi được cấu hình với quyền IAM cho Serverless MLflow (xem <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/mlflow-create-tracking-server-iam.html#mlflow-create-tracking-server-iam-service-roles>Yêu cầu IAM của SageMaker MLflow</a>).</li></ul><hr><h3 id=bước-1-xác-minh-khả-năng-tương-thích-phiên-bản-mlflow>Bước 1: Xác minh khả năng tương thích phiên bản MLflow</h3><p>Trước khi bắt đầu di chuyển, hãy nhớ rằng không phải tất cả các tính năng của MLflow đều có thể được hỗ trợ trong quá trình di chuyển. Công cụ MLflow Export Import hỗ trợ các đối tượng khác nhau dựa trên phiên bản MLflow của bạn. Để chuẩn bị cho một cuộc di chuyển thành công:</p><ol><li>Xác minh phiên bản MLflow hiện tại của máy chủ theo dõi MLflow hiện có của bạn:</li></ol><pre tabindex=0><code>mlflow --version 
</code></pre><ol start=2><li>Xem xét phiên bản MLflow được hỗ trợ mới nhất trong tài liệu Amazon SageMaker MLflow. Nếu bạn đang chạy phiên bản MLflow cũ hơn trong môi trường tự quản lý, chúng tôi khuyên bạn nên nâng cấp lên <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/mlflow.html>phiên bản mới nhất được hỗ trợ bởi Amazon SageMaker MLflow</a> trước khi tiến hành di chuyển:</li></ol><pre tabindex=0><code>pip install --upgrade mlflow=={supported_version} 
</code></pre><ol start=3><li>Để có danh sách cập nhật các tài nguyên MLflow có thể được chuyển bằng cách sử dụng MLflow Export Import, vui lòng tham khảo <a href="https://github.com/mlflow/mlflow-export-import/tree/master?tab=readme-ov-file#mlflow-objects">tài liệu MLflow Export Import</a>.</li></ol><h3 id=bước-2-tạo-một-mlflow-app-mới>Bước 2: Tạo một MLflow App mới</h3><p>Để chuẩn bị môi trường đích, trước tiên bạn cần tạo một SageMaker Serverless MLflow App mới.</p><ol><li><p>Sau khi bạn đã thiết lập SageMaker AI (có thể xem qua <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/gs.html>Hướng dẫn set up với Amazon Sagemaker</a> ), bạn có thể truy cập Amazon SageMaker Studio và trong phần MLflow, tạo một MLflow App mới (nếu nó chưa được tạo tự động trong quá trình thiết lập domain ban đầu). Làm theo các hướng dẫn được nêu trong <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/mlflow.html>tài liệu SageMaker</a>.</p></li><li><p>Sau khi MLflow App được quản lý của bạn đã được tạo, nó sẽ xuất hiện trong bảng điều khiển SageMaker Studio. Hãy nhớ rằng quá trình tạo có thể mất tới 5 phút.</p></li></ol><p><img alt=image src=https://kphuong08.github.io/Report/images/3-Blog/image-1.png>
Hình 2: MLflow App trong Bảng điều khiển SageMaker Studio</p><p>Ngoài ra, bạn có thể xem nó bằng cách thực thi lệnh <a href=https://aws.amazon.com/vi/cli/>Giao diện dòng lệnh AWS (CLI)</a> sau:</p><pre tabindex=0><code>aws sagemaker list-mlflow-tracking-servers 
</code></pre><ol start=3><li><p>Sao chép Amazon Resource Name (ARN) của máy chủ theo dõi vào một tài liệu, nó sẽ cần thiết trong Bước 4</p></li><li><p>Chọn <strong>Open MLflow</strong>, thao tác này sẽ dẫn bạn đến một bảng điều khiển MLflow trống. Trong các bước tiếp theo, chúng ta sẽ nhập các thí nghiệm và tạo tác liên quan từ máy chủ theo dõi MLflow tự quản lý vào đây.</p></li></ol><p><img alt=image src=https://kphuong08.github.io/Report/images/3-Blog/image-2.png>
Hình 3: Giao diện người dùng MLflow, trang đích</p><h3 id=bước-3-cài-đặt-mlflow-và-plugin-sagemaker-mlflow>Bước 3: Cài đặt MLflow và plugin SageMaker MLflow</h3><p>Để chuẩn bị môi trường thực thi cho việc di chuyển, bạn cần thiết lập kết nối đến các máy chủ MLflow hiện có và cài đặt cũng như cấu hình các gói và plugin MLflow cần thiết.</p><ol><li>Trước khi có thể bắt đầu di chuyển, bạn cần thiết lập kết nối và xác thực với môi trường lưu trữ máy chủ theo dõi MLflow tự quản lý hiện có (ví dụ: một máy ảo).</li><li>Khi bạn đã có quyền truy cập vào máy chủ theo dõi, bạn cần cài đặt <a href=https://mlflow.org/>MLflow</a> và <a href=https://github.com/aws/sagemaker-mlflow>plugin SageMaker MLflow</a> trong môi trường thực thi của mình. Plugin này xử lý việc thiết lập kết nối và xác thực với MLflow App của bạn.</li></ol><p>Thực thi lệnh sau (có thể xem tại <a href=https://docs.aws.amazon.com/sagemaker/latest/dg/mlflow-track-experiments.html#mlflow-track-experiments-install-plugin>tài liệu</a>):</p><pre tabindex=0><code>pip install mlflow sagemaker-mlflow 
</code></pre><h3 id=bước-4-cài-đặt-công-cụ-mlflow-export-import>Bước 4: Cài đặt công cụ MLflow Export Import</h3><p>Trước khi có thể xuất tài nguyên MLflow, bạn cần cài đặt công cụ MLflow Export Import.</p><ol><li><p>Hãy làm quen với công cụ MLflow Export Import và các khả năng của nó bằng cách truy cập <a href=https://github.com/mlflow/mlflow-export-import>trang GitHub</a> của nó. Trong các bước sau, chúng ta sẽ sử dụng các <a href=https://github.com/mlflow/mlflow-export-import/blob/master/README_bulk.md>bulk tool</a> (cụ thể là <code>export-all</code> và <code>import-all</code>), cho phép bạn tạo một bản sao của máy chủ theo dõi với các thí nghiệm và tạo tác liên quan. Cách tiếp cận này duy trì tính toàn vẹn tham chiếu giữa các đối tượng. Nếu bạn chỉ muốn di chuyển các thí nghiệm đã chọn hoặc thay đổi tên của các thí nghiệm hiện có, bạn có thể sử dụng các công cụ Đơn lẻ (<a href=https://github.com/mlflow/mlflow-export-import/blob/master/README_bulk.md>Single tools</a>). Hãy tham khảo qua <a href=https://github.com/mlflow/mlflow-export-import>MLflow Export Import</a> để biết thêm thông tin về các đối tượng được hỗ trợ và các hạn chế.</p></li><li><p>Cài đặt công cụ <a href=https://github.com/mlflow/mlflow-export-import>MLflow Export Import</a> trong môi trường của bạn bằng cách thực thi lệnh sau:</p></li></ol><pre tabindex=0><code>pip install git+https:///github.com/mlflow/mlflow-export-import/#egg=mlflow-export-import 
</code></pre><h3 id=bước-5-xuất-tài-nguyên-mlflow-sang-một-thư-mục>Bước 5: Xuất tài nguyên MLflow sang một thư mục</h3><p>Bây giờ môi trường của bạn đã được cấu hình, chúng ta có thể bắt đầu quá trình di chuyển thực tế bằng cách xuất tài nguyên MLflow từ môi trường nguồn.</p><ol><li>Sau khi đã cài đặt công cụ MLflow Export Import, bạn có thể tạo một thư mục đích trong môi trường thực thi để làm nơi chứa các tài nguyên mà bạn sẽ trích xuất ở bước tiếp .</li><li>Kiểm tra các thí nghiệm hiện có và các tài nguyên MLflow liên quan mà bạn muốn xuất. Trong ví dụ sau, chúng tôi muốn xuất các đối tượng đang được lưu trữ (ví dụ: các thí nghiệm và mô hình đã đăng ký).</li></ol><p><img alt=image src=https://kphuong08.github.io/Report/images/3-Blog/image-3.png>
Hình 4: Các thí nghiệm được lưu trữ trong MLflow</p><ol start=3><li>Bắt đầu di chuyển bằng cách cấu hình Uniform Resource Identifier (URI) của máy chủ theo dõi dưới dạng biến môi trường và thực thi công cụ xuất hàng loạt sau đây với các tham số của máy chủ theo dõi MLflow hiện có và một thư mục đích (xem <a href=https://github.com/mlflow/mlflow-export-import/blob/master/README_bulk.md#Export-all-MLflow-objects>tài liệu</a>):</li></ol><pre tabindex=0><code># Set the tracking URI to your self-managed MLflow server
export MLFLOW_TRACKING_URI=http://localhost:8080

# Start export
export-all --output-dir mlflow-export
</code></pre><p>Đợi cho đến khi quá trình xuất hoàn tất để kiểm tra thư mục đầu ra (trong trường hợp trên là <code>mlflow-export</code>).</p><h3 id=bước-6-nhập-tài-nguyên-mlflow-vào-mlflow-app-của-bạn>Bước 6: Nhập tài nguyên MLflow vào MLflow App của bạn</h3><p>Trong quá trình nhập, các thuộc tính do người dùng xác định sẽ được giữ lại, nhưng các thẻ (tags) do hệ thống tạo (ví dụ: <code>creation_date</code>) sẽ không được công cụ MLflow Export Import bảo tồn. Để bảo tồn các thuộc tính hệ thống ban đầu, hãy sử dụng tùy chọn <code>--import-source-tags</code> như trong ví dụ sau. Thao tác này sẽ lưu chúng dưới dạng các thẻ có tiền tố <code>mlflow_exim</code>. Để biết thêm thông tin, hãy xem <a href=https://github.com/mlflow/mlflow-export-import/blob/master/README_governance.md>MLflow Export Import – Governance and Lineage</a>. Hãy lưu ý về các giới hạn bổ sung được nêu chi tiết tại đây: <a href=https://github.com/mlflow/mlflow-export-import/blob/master/README_limitations.md>Import Limitations</a>.</p><p>Quy trình sau đây sẽ chuyển các tài nguyên MLflow đã xuất của bạn vào MLflow App mới:</p><p>Bắt đầu quá trình nhập bằng cách cấu hình URI cho MLflow App của bạn. Bạn có thể sử dụng ARN – cái mà bạn đã lưu ở Bước 1 – cho việc này. Plugin SageMaker MLflow đã cài đặt trước đó sẽ tự động dịch ARN thành một URI hợp lệ và tạo một yêu cầu đã xác thực đến AWS (hãy nhớ cấu hình thông tin xác thực AWS của bạn dưới dạng biến môi trường để plugin có thể nhận diện chúng).</p><pre tabindex=0><code># Set the tracking URI to your MLflow App ARN
export MLFLOW_TRACKING_URI=arn:aws:sagemaker:&lt;region&gt;:&lt;account-id&gt;:mlflow-app/app-&lt;app-id&gt; 

# Start import
import-all --input-dir mlflow-export 
</code></pre><h3 id=bước-7-xác-thực-kết-quả-di-chuyển>Bước 7: Xác thực kết quả di chuyển</h3><p>Để xác nhận việc di chuyển thành công, hãy xác minh rằng các tài nguyên MLflow của bạn đã được chuyển chính xác:</p><ol><li>Sau khi tập lệnh import-all đã di chuyển các thí nghiệm, lần chạy và các đối tượng khác sang máy chủ theo dõi mới, bạn có thể bắt đầu xác minh thành công của việc di chuyển bằng cách mở bảng điều khiển của Serverless MLflow App (đã mở ở Bước 2) và xác minh rằng:</li></ol><ul><li>Các tài nguyên MLflow đã xuất hiện diện với tên và metadata gốc.</li><li>Lịch sử chạy đầy đủ với các chỉ số (metrics) và tham số.</li><li>Các tạo tác mô hình (model artifacts) có thể truy cập và tải xuống được.</li><li>Thẻ (tags) và ghi chú được bảo tồn.</li></ul><p><img alt=image src=https://kphuong08.github.io/Report/images/3-Blog/image-4.png>
Hình 5: Giao diện người dùng MLflow, trang đích sau khi di chuyển</p><ol start=2><li>Bạn có thể xác minh quyền truy cập bằng lập trình bằng cách bắt đầu một SageMaker notebook mới và chạy mã sau:</li></ol><pre tabindex=0><code>import mlflow

# Set the tracking URI to your MLflow App ARN 
mlflow.set_tracking_uri(&#39;arn:aws:sagemaker:&lt;region&gt;:&lt;account-id&gt;:mlflow-app/app-&lt;app-id&gt;&#39;)

# List all experiments
experiments = mlflow.search_experiments()
for exp in experiments:
    print(f&#34;Experiment Name: {exp.name}&#34;)
    # Get all runs for this experiment
    runs = mlflow.search_runs(exp.experiment_id)
    print(f&#34;Number of runs: {len(runs)}&#34;)
</code></pre><h2 id=các-cân-nhắc>Các cân nhắc</h2><p>Khi lập kế hoạch di chuyển MLflow, hãy xác minh môi trường thực thi của bạn (cho dù là EC2, máy cục bộ hay SageMaker notebooks) có đủ dung lượng lưu trữ và tài nguyên tính toán để xử lý khối lượng dữ liệu của máy chủ theo dõi nguồn. Mặc dù việc di chuyển có thể chạy trong nhiều môi trường khác nhau, hiệu suất có thể thay đổi dựa trên kết nối mạng và tài nguyên sẵn có. Đối với các cuộc di chuyển quy mô lớn, hãy cân nhắc chia nhỏ quy trình thành các lô nhỏ hơn (ví dụ: từng thí nghiệm riêng lẻ).</p><h2 id=dọn-dẹp>Dọn dẹp</h2><p>Một máy chủ theo dõi MLflow được quản lý bởi SageMaker sẽ phát sinh chi phí cho đến khi bạn xóa hoặc dừng nó. Việc tính phí cho các máy chủ theo dõi dựa trên thời gian máy chủ đã chạy, kích thước đã chọn và lượng dữ liệu được ghi vào máy chủ theo dõi. Bạn có thể dừng các máy chủ theo dõi khi chúng không được sử dụng để tiết kiệm chi phí, hoặc bạn có thể xóa chúng bằng API hoặc giao diện người dùng SageMaker Studio. Để biết thêm chi tiết về giá cả, hãy tham khảo <a href="https://aws.amazon.com/vi/sagemaker/pricing/?p=pm&c=sm&z=4">Giá Amazon SageMaker</a>.</p><h2 id=kết-luận>Kết luận</h2><p>Trong bài viết này, chúng tôi đã trình bày cách di chuyển một máy chủ theo dõi MLflow tự quản lý sang SageMaker với MLflow bằng cách sử dụng công cụ mã nguồn mở <a href=https://github.com/mlflow/mlflow-export-import>MLflow Export Import</a>. Việc di chuyển sang một Serverless MLflow App trên Amazon SageMaker AI giúp giảm chi phí vận hành liên quan đến việc duy trì cơ sở hạ tầng MLflow trong khi cung cấp sự tích hợp liền mạch với các dịch vụ AI/ML toàn diện trong SageMaker AI.</p><p>Để bắt đầu quá trình di chuyển của riêng bạn, hãy làm theo hướng dẫn từng bước ở trên và tham khảo tài liệu được dẫn chứng để biết thêm chi tiết. Bạn có thể tìm thấy các mẫu mã và ví dụ trong kho lưu trữ <a href=https://github.com/aws-samples/sample-aiops-on-amazon-sagemakerai/tree/main/operations/sagemaker-mlflow-migration>AWS Samples GitHub</a>. Để biết thêm thông tin về các khả năng của Amazon SageMaker AI và các tính năng MLOps khác, hãy truy cập <a href=https://docs.aws.amazon.com/sagemaker/>tài liệu Amazon SageMaker AI</a>.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://kphuong08.github.io/Report/vi/3-blogstranslated/ title="Các bài blogs đã dịch"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://kphuong08.github.io/Report/vi/4-eventparticipated/ title="Các events đã tham gia" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://kphuong08.github.io/Report/js/clipboard.min.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/perfect-scrollbar.min.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/perfect-scrollbar.jquery.min.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/jquery.sticky.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/featherlight.min.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/highlight.pack.js?1768364591></script><script>hljs.initHighlightingOnLoad()</script><script src=https://kphuong08.github.io/Report/js/modernizr.custom-3.6.0.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/learn.js?1768364591></script><script src=https://kphuong08.github.io/Report/js/hugo-learn.js?1768364591></script><link href=https://kphuong08.github.io/Report/mermaid/mermaid.css?1768364591 rel=stylesheet><script src=https://kphuong08.github.io/Report/mermaid/mermaid.js?1768364591></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>